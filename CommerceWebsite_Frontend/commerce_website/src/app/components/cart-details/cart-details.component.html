<div class="main-content">
    <div class="section-content section-content-p30">
        <div class="container-fluid">

            <div *ngIf="cartItems.length > 0">
                <table class="table table-bordered">
                    <tr>
                        <th width="20%">Product Image</th>
                        <th width="50%">Product Detail</th>
                        <th width="30%" style="text-align:center;"></th>
                    </tr>

                    <tr *ngFor="let cartItem of cartItems">
                        <td>
                            <img src="{{ cartItem.imageUrl}}" class="img-responsive" width="150px" />
                        </td>
                        <td>
                            <p>{{ cartItem.name }}</p>
                            <p>{{ cartItem.unitPrice | currency: 'USD' }}</p>
                        </td>
                        <td style="position:relative;">
                            <div class="col">
                                <label class="mx-3" for="quantity">Quantity:
                                <input type="number" list="quantity" #quantityOptionValue (input)="setQuantity(cartItem, +quantityOptionValue.value)" placeholder="{{ cartItem.quantity }} (current)" min="1"/>
                                <datalist id="quantity">
                                    <option *ngFor="let quantity of quantities"> {{ quantity }}</option>
                                </datalist>
                            </label>
                            </div>

                            <p class="mx-3">Subtotal: {{ cartItem.unitPrice * cartItem.quantity | currency: 'USD' }}</p>
                            <div (click)="remove(cartItem)" class="col"
                                style="position: absolute; bottom: 0; right: 0;"><button
                                    class="btn btn-secondary btn-sm">Remove</button></div>

                        </td>
                    </tr>

                    <tr>
                        <td colspan="2"></td>
                        <td style="font-weight: bold; position:relative;">
                            <p>Total Quantity: {{ totalQuantity}}</p>
                            <p>Shipping fee: FREE</p>
                            <p style="padding-bottom: 3rem;">Total Price: {{ totalPrice | currency: 'USD' }}</p>                         

                            <div class="col" routerLink="/checkout"
                                style="position: absolute; bottom: 0; right: 0;"><button
                                    class="btn btn-primary btn-sm">Checkout</button></div>
                        </td>
                    </tr>
                </table>
            </div>
            <div *ngIf="cartItems?.length==0" class="alert alert-warning col-md-12" role="aleart">Cart is empty !
            </div>
        </div>
    </div>
</div>